<!DOCTYPE html><html><head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=Edge">
        <meta name="description">
        <meta name="keywords" content="static content generator,static site generator,static site,HTML,web development,.NET,C#,Razor,Markdown,YAML">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="shortcut icon" href="/animancer/assets/img/favicon.ico" type="image/x-icon">
        <link rel="icon" href="/animancer/assets/img/favicon.ico" type="image/x-icon">
        <title>Animancer - Why Replace Mecanim?</title>
        <link href="/animancer/assets/css/highlight.css" rel="stylesheet">
        <link href="/animancer/assets/css/bootstrap/bootstrap.css" rel="stylesheet">
        <link href="/animancer/assets/css/adminlte/AdminLTE.css" rel="stylesheet">
        <link href="/animancer/assets/css/theme/theme.css" rel="stylesheet">
        <link href="//fonts.googleapis.com/css?family=Roboto+Mono:400,700|Roboto:400,400i,700,700i" rel="stylesheet">
        <link href="/animancer/assets/css/font-awesome.min.css" rel="stylesheet" type="text/css">
        <link href="/animancer/assets/css/override.css" rel="stylesheet">
        <script src="/animancer/assets/js/jquery-2.2.3.min.js"></script>
        <script src="/animancer/assets/js/bootstrap.min.js"></script>        
        <script src="/animancer/assets/js/app.min.js"></script>         
        <script src="/animancer/assets/js/highlight.pack.js"></script>   
        <script src="/animancer/assets/js/jquery.slimscroll.min.js"></script>
        <script src="/animancer/assets/js/jquery.sticky-kit.min.js"></script>
        <script src="/animancer/assets/js/mermaid.min.js"></script>
        <script src="/animancer/assets/js/svg-pan-zoom.min.js"></script>
        <!--[if lt IE 9]>
        <script src="/animancer/assets/js/html5shiv.min.js"></script>
        <script src="/animancer/assets/js/respond.min.js"></script>
        <![endif]-->  

        
    </head>
    <body class="hold-transition wyam layout-boxed  ">    
        <div class="top-banner"></div>
        <div class="wrapper with-container">
            <!-- Header -->
            <header class="main-header">   
                     
                <a href="/animancer/" class="logo">
                            <span>Animancer</span>
                </a>   
                         
                <nav class="navbar navbar-static-top" role="navigation">
                    <!-- Sidebar toggle button-->
                        <a href="#" class="sidebar-toggle visible-xs-block" data-toggle="offcanvas" role="button">
                            <span class="sr-only">Toggle side menu</span>
                            <i class="fa fa-chevron-circle-right"></i>
                        </a>
                                        
                    <div class="navbar-header">
                        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse">
                            <span class="sr-only">Toggle side menu</span>
                            <i class="fa fa-chevron-circle-down"></i>
                        </button>
                    </div>
            
                    <!-- Collect the nav links, forms, and other content for toggling -->
                    <div class="collapse navbar-collapse pull-left" id="navbar-collapse">
                        <ul class="nav navbar-nav">                            
                                    <li class="active"><a href="/animancer/docs"><img src="/animancer/images/docs.png" height="20" style="position:relative; left:-5px; top:-1px;"> Docs</a></li>
        <li><a href="/animancer/faq"><img src="/animancer/images/faq.png" height="20" style="position:relative; left:-4px; top:-1px;"> FAQ</a></li>
        <li><a href="/animancer/api/Animancer/AnimancerComponent"><img src="/animancer/images/api.png" height="20" style="position:relative; left:-3px; top:-1px;"> API v3.1</a></li>
        <li><a href="https://forum.unity.com/threads/566452"><img src="/animancer/images/forum.png" height="20" style="position:relative; left:-4px; top:-1px;"> Forum</a></li>
        <li><a href="mailto:AnimancerUnityPlugin@gmail.com?subject=Animancer"><img src="/animancer/images/contact.png" height="20" style="position:relative; left:-4px; top:-1px;"> Contact</a></li>
        <li><a href="http://u3d.as/19Xd"><img src="/animancer/images/unity-logo.png" height="20" style="position:relative; left:-4px; top:-1px;"> Try</a></li>
        <li><a href="http://u3d.as/19Xb"><img src="/animancer/images/unity-logo.png" height="20" style="position:relative; left:-4px; top:-1px;"> Buy</a></li>
        <li><a href="https://kybernetikgames.github.io/kailas-dierk/unity-assets"><img src="/animancer/images/kybernetik.png" height="20" style="position:relative; left:-2px; top:-1px;"> Other Assets</a></li>
 
                        </ul>       
                    </div>
                    <!-- /.navbar-collapse -->
                
                    <!-- Navbar Right Menu -->
                </nav>
            </header>
            
            <!-- Left side column. contains the logo and sidebar -->
            <aside class="main-sidebar ">
                <section class="infobar" data-spy="affix" data-offset-top="60" data-offset-bottom="200"> 
                    	
    <div id="infobar-headings"><h6>On This Page</h6><p><a href="#magic-strings">Magic Strings</a></p>
<p><a href="#duplication-of-effort">Duplication of Effort</a></p>
<p><a href="#dependencies">Dependencies</a></p>
<p><a href="#responsibilities">Responsibilities</a></p>
<p><a href="#runtime-control">Runtime Control</a></p>
<hr class="infobar-hidden">
</div>

                </section>
                <section class="sidebar">    
                                     
                    

                    <ul class="sidebar-menu">
                        

                <li class="treeview active">
                    <a href="/animancer/docs/introduction">Introduction</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/introduction/feature-comparison">Feature Comparison</a></li>
                <li class="treeview active">
                    <a href="/animancer/docs/introduction/mecanim-vs-animancer">Mecanim vs. Animancer</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li class="selected"><a href="/animancer/docs/introduction/mecanim-vs-animancer/why-replace-mecanim">Why Replace Mecanim?</a></li>
                <li><a href="/animancer/docs/introduction/mecanim-vs-animancer/playing">Playing</a></li>
                <li><a href="/animancer/docs/introduction/mecanim-vs-animancer/waiting">Waiting</a></li>
                <li><a href="/animancer/docs/introduction/mecanim-vs-animancer/speed-and-time">Speed and Time</a></li>
                <li><a href="/animancer/docs/introduction/mecanim-vs-animancer/weapon-animations">Weapon Animations</a></li>
                <li><a href="/animancer/docs/introduction/mecanim-vs-animancer/performance">Performance Benchmarks</a></li>

                    </ul>
                </li>
                <li><a href="/animancer/docs/introduction/glossary">Glossary</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/examples">Examples</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li class="treeview">
                    <a href="/animancer/docs/examples/basics">01 Basics</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/basics/basic-scene-setup">Basic Scene Setup</a></li>
                <li><a href="/animancer/docs/examples/basics/simple-playing">01 Simple Playing</a></li>
                <li><a href="/animancer/docs/examples/basics/playing-and-fading">02 Playing and Fading</a></li>
                <li><a href="/animancer/docs/examples/basics/sequence-coroutine">03 Sequence Coroutine</a></li>
                <li><a href="/animancer/docs/examples/basics/named-animations">04 Named Animations</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/examples/fine-control">02 Fine Control</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/fine-control/spider-bot">01 Spider Bot</a></li>
                <li><a href="/animancer/docs/examples/fine-control/doors">02 Doors</a></li>
                <li><a href="/animancer/docs/examples/fine-control/solo-animation">03 Solo Animation</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/examples/locomotion">03 Locomotion</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/locomotion/walk-and-run">01 Walk and Run</a></li>
                <li><a href="/animancer/docs/examples/locomotion/root-motion">02 Root Motion</a></li>
                <li><a href="/animancer/docs/examples/locomotion/linear-blending">03 Linear Blending</a></li>
                <li><a href="/animancer/docs/examples/locomotion/directional-blending">04 Directional Blending</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/examples/directional-sprites">04 Directional Sprites</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/directional-sprites/basic-movement">01 Basic Movement</a></li>
                <li><a href="/animancer/docs/examples/directional-sprites/character-controller">02 Character Controller</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/examples/animation-events">05 Animation Events</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/animation-events/simple-and-end-events">01 Simple and End Events</a></li>
                <li><a href="/animancer/docs/examples/animation-events/other-events">02 Other Events</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/examples/state-machines">06 State Machines</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/state-machines/creatures">01 Creatures</a></li>
                <li><a href="/animancer/docs/examples/state-machines/interrupt-management">02 Interrupt Management</a></li>
                <li><a href="/animancer/docs/examples/state-machines/brains">03 Brains</a></li>
                <li><a href="/animancer/docs/examples/state-machines/more-brains">04 More Brains</a></li>
                <li><a href="/animancer/docs/examples/state-machines/platformer">05 Platformer</a></li>

                    </ul>
                </li>
                <li><a href="/animancer/docs/examples/layers">07 Layers</a></li>
                <li class="treeview">
                    <a href="/animancer/docs/examples/inverse-kinematics">08 Inverse Kinematics</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/inverse-kinematics/puppet">01 Puppet</a></li>
                <li><a href="/animancer/docs/examples/inverse-kinematics/uneven-ground">02 Uneven Ground</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/examples/animator-controllers">09 Animator Controllers</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/animator-controllers/hybrid">01 Hybrid</a></li>
                <li class="treeview">
                    <a href="/animancer/docs/examples/animator-controllers/3d-game-kit">02 3D Game Kit</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/animator-controllers/3d-game-kit/problems">Problems with the Original</a></li>
                <li><a href="/animancer/docs/examples/animator-controllers/3d-game-kit/respawn">Respawn</a></li>
                <li><a href="/animancer/docs/examples/animator-controllers/3d-game-kit/idle">Idle</a></li>
                <li class="treeview">
                    <a href="/animancer/docs/examples/animator-controllers/3d-game-kit/locomotion">Locomotion</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/animator-controllers/3d-game-kit/locomotion/movement">Movement</a></li>
                <li><a href="/animancer/docs/examples/animator-controllers/3d-game-kit/locomotion/turning">Turning</a></li>

                    </ul>
                </li>
                <li><a href="/animancer/docs/examples/animator-controllers/3d-game-kit/airborne">Airborne</a></li>
                <li><a href="/animancer/docs/examples/animator-controllers/3d-game-kit/landing">Landing</a></li>
                <li><a href="/animancer/docs/examples/animator-controllers/3d-game-kit/attack">Attack</a></li>

                    </ul>
                </li>

                    </ul>
                </li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/manual">User Manual</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/manual/playing-animations">Playing Animations</a></li>
                <li><a href="/animancer/docs/manual/states">States</a></li>
                <li><a href="/animancer/docs/manual/inspector">Inspector</a></li>
                <li><a href="/animancer/docs/manual/component-types">Component Types</a></li>
                <li class="treeview">
                    <a href="/animancer/docs/manual/blending">Blending</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/manual/blending/fading">Fading</a></li>
                <li><a href="/animancer/docs/manual/blending/layers">Layers</a></li>
                <li><a href="/animancer/docs/manual/blending/mixers">Mixers</a></li>

                    </ul>
                </li>
                <li><a href="/animancer/docs/manual/finite-state-machines">Finite State Machines</a></li>
                <li><a href="/animancer/docs/manual/state-serializables">State Serializables</a></li>
                <li><a href="/animancer/docs/manual/animator-controllers">Animator Controllers</a></li>
                <li><a href="/animancer/docs/manual/animation-events">Animation Events</a></li>
                <li><a href="/animancer/docs/manual/inverse-kinematics">Inverse Kinematics</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/bugs">Unity Bugs</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/bugs/inconsistent-timing">Inconsistent Timing</a></li>
                <li><a href="/animancer/docs/bugs/paused-skinned-mesh-update">Paused Skinned Mesh Update</a></li>
                <li><a href="/animancer/docs/bugs/resetting-animated-values">Resetting Animated Values</a></li>
                <li><a href="/animancer/docs/bugs/root-motion-interpolation">Root Motion Interpolation</a></li>
                <li><a href="/animancer/docs/bugs/unused-graph-destroy-warning">Unused Graph Destroy Warning</a></li>
                <li><a href="/animancer/docs/bugs/update-modes">Update Modes</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/source">Source Code</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/source/creating-custom-states">Creating Custom States</a></li>
                <li><a href="/animancer/docs/source/graph-structure">Graph Structure</a></li>
                <li><a href="/animancer/docs/source/asset-sources">Asset Sources</a></li>
                <li><a href="/animancer/docs/source/coding-standard">Coding Standard</a></li>
                <li><a href="/animancer/docs/source/default-script-template">Default Script Template</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/changes">Change Log</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/changes/ideas">Ideas</a></li>
                <li><a href="/animancer/docs/changes/animancer-v4-0">Plans for v4.0</a></li>
                <li><a href="/animancer/docs/changes/animancer-v3-1">Animancer v3.1</a></li>
                <li><a href="/animancer/docs/changes/animancer-v3-0">Animancer v3.0</a></li>
                <li><a href="/animancer/docs/changes/animancer-v2-0">Animancer v2.0</a></li>
                <li><a href="/animancer/docs/changes/animancer-v1-3">Animancer v1.3</a></li>
                <li><a href="/animancer/docs/changes/animancer-v1-2">Animancer v1.2</a></li>
                <li><a href="/animancer/docs/changes/animancer-v1-1">Animancer v1.1</a></li>
                <li><a href="/animancer/docs/changes/animancer-v1-0">Animancer v1.0</a></li>

                    </ul>
                </li>

                    </ul>
                            
                </section>                
            </aside>
            
            <!-- Content Wrapper. Contains page content -->
            <div class="content-wrapper">
                



		<section class="content-header">
			<h1>Why Replace Mecanim?</h1>
		</section>
	<section class="content">
		<p>Unity’s <a href="https://docs.unity3d.com/Manual/class-AnimatorController.html">Mecanim Animator Controller</a> system was designed to be easily accessible to people without much programming experience. It achieves that goal quite well, but doing so creates the illusion that animations should define the way your game works, when in fact the opposite is true. Games are highly complex and dynamic so a naive brute force approach where every animation goes into one huge static state machine it not ideal for various reasons:</p>
<ul>
<li>It forces you to rely on <a href="#magic-strings">Magic Strings</a>.</li>
<li>It results in <a href="#duplication-of-effort">Duplication of Effort</a> where you define some parts of the behaviour of your characters in the Animator Controller and other parts in your scripts, which wastes time and makes debugging much harder because any bug could be in your script or the Animator Controller or a combination of the two.</li>
<li>It prevents you from managing <a href="#dependencies">Dependencies</a>. Any script could play any state or set any parameter and you wouldn't know about it without reading the entire script. Any changes to an Animator Controller might break a script and vice-versa, but you don't get a clear indication of which scripts use which states.</li>
<li>It inhibits any attempts to compartmentalise or encapsulate individual areas into easily manageable or reusable groups. Instead, all <a href="#responsibilities">Responsibilities</a> are just thrown into a single Animator Controller.</li>
<li>It greatly limits your <a href="#runtime-control">Runtime Control</a> since everything needs to be defined beforehand in the Unity Editor.</li>
<li>The states don't even align with the background grid.</li>
</ul>
<p>These factors make it difficult to achieve an effective development workflow. It's not impossible, just more difficult than necessary.</p>
<p><img src="nightmare-controller.png" class="img-responsive"></p>
<p>This monstrosity was taken from an official Unity Blog post ironically titled "<a href="https://blogs.unity3d.com/2016/10/11/building-for-reuse-mecanim-on-recore/">Building for Reuse</a>". The sheer number of states and parameters turns it from a meaningful visualisation of a complex system into a convoluted mess that would be extremely difficult to work with. Programming patterns and other techniques that could normally be used to effectively develop such a system simply cannot be used when everything is constrained by this user interface.</p>
<p>If you are interested in a practical comparison between the two systems, the <a href="../../../examples/animator-controllers/3d-game-kit">Animator Controllers/3D Game Kit</a> example is dedicated to the process of converting an Animator Controller based character to use Animancer instead.</p>
<h1 id="magic-strings">Magic Strings</h1>
<p>A "magic" variable is an arbitrary value that is used to activate certain functionality in a program without being derived or retrieved in some way, it simply appears from nothing as if by magic. Likewise, a "magic string" is a <code>string</code> that is used to control something that it has no real connection with. Take the following code for example:</p>
<pre><code class="language-cs">[SerializeField]
private Animator _Animator;

public void PlayAttack()
{
    _Animator.Play("Attack");
}
</code></pre>
<p>In this case, <code>"Attack"</code> is a magic string. It's hard coded into the script without any explanation of what it is supposed to do or any validation to make sure it will actually work as intended. That line of code probably worked when it was written, but what about now? Maybe you're reading some code you wrote a while ago or someone else's code. Consider the following questions:</p>
<ol>
<li>Has a state with that name actually been set up in the Animator Controller? Are you sure it's not <code>"attack"</code> or <code>"Attack01"</code> or <code>"Light Attack"</code>? Better go check.</li>
<li>What other animations are there to choose from? Better go check.</li>
<li>What will happen when that animation finishes? Nothing? Maybe a transition? Maybe there's a parameter you need to set to determine which transition it will use? Better go check.</li>
<li>How can you make sure everything is spelled correctly? Better go check.</li>
<li>What else do you need to modify if you want to rename it to <code>"Light Attack"</code> because you are about to add a <code>"Heavy Attack"</code>? Better go check. The state in the Animator Controller of course, but what else? What if there's another script relying on a string that was entered in the Inspector so a <code>Ctrl + F</code> to find the text <code>"Attack"</code> in your scripts won't even find it?</li>
<li>Is this script being used for multiple different Animator Controllers? Better go check. If it is then lucky you, now you get to re-check all those questions for each controller.</li>
</ol>
<p>There's a clear pattern here: every time you want to verify an aspect of its behaviour, you have to figure out where that behaviour is actually defined and go check it manually.</p>
<p>So how could this be improved? Well, you've probably already guessed that the answer is "by using Animancer". With it, the code could look like this:</p>
<pre><code class="language-cs">[SerializeField]
private <a href="/animancer/api/Animancer/AnimancerComponent">AnimancerComponent</a> _Animancer;

[SerializeField]
private AnimationClip _Attack;

public void PlayAttack()
{
    var state = _Animancer.Play(_Attack);
    state.OnEnd = OnAttackEnd;
}
</code></pre>
<p>This time we have slightly more complexity in the code, but less overall complexity because that code does not require an Animator Controller to be set up separately. So what does that do to those questions from before?</p>
<ol>
<li>Irrelevant. The code defines the animation it will play. It will automatically create a state for the <code>_Attack</code> animation the first time it is passed into the <code>Play</code> method.</li>
<li>In this case there are no other animations to choose from because we only have one <code>AnimationClip</code> field. But if for example you set up a <code>Weapon</code> class with various fields for all of the animations it can have, then your IDE would be able to give you a list of those fields to choose from and you could probably jump to that class with a single keypress if necessary (<code>F12</code> in Visual Studio).</li>
<li>It will call the <code>OnAttackEnd</code> method.</li>
<li>If you make a spelling mistake it will cause a compile error which points to the problem so you can fix it immediately.</li>
<li>You don't need to modify anything else, your IDE can rename all references to that field automatically. Though you could use a <a href="https://docs.unity3d.com/ScriptReference/Serialization.FormerlySerializedAsAttribute.html"><code>[FormerlySerializedAs]</code></a> attribute to ensure that any references previously assigned to the old field name will be kept by the new one.</li>
<li>Irrelevant. This script defines its own behaviour instead of needing to fit in with the way Animator Controllers have been set up.</li>
</ol>
<h1 id="duplication-of-effort">Duplication of Effort</h1>
<p><img src="state-machine-diagram.png" width="50%" class="img-right" style="padding-top:4px">This state diagram taken straight from the <a href="https://docs.unity3d.com/Manual/StateMachineBasics.html">Unity Manual</a> actually illustrates one of the problems with the system quite effectively. To transition from the <em>Walk</em> state to the <em>Fall</em> state, a script must detect that the character is no longer on the ground and a transition must be set up between those states. Then when the script detects that the character is back on the ground it can try to go back to <em>Idle</em>, except there is no transition from <em>Fall</em> to <em>Idle</em> so nothing will happen. Development time was originally spent creating the state machine and the code logic separately, and now even more time needs to be spent figuring out whether the problem is a bug in the ground detection code or in the state machine (or both) and then fixing it without breaking anything else.</p>
<p>That problem would never occur with Animancer. You still need to detect when the creature leaves and returns to the ground, but when you tell it to play an animation it will simply play that animation.</p>
<h1 id="dependencies">Dependencies</h1>
<p>Mecanim has a detrimental effect on your dependencies, i.e. the additional things that a script needs in order to do its job. The fewer things you need to depend on, the better. Yet Mecamin forces additional dependencies on you when they aren't really needed.</p>
<p>Consider the following question in general terms:</p>
<blockquote class="blockquote">
<p>What do you need in order to animate a character or other object?</p>
</blockquote>
<p>The answer: you only require two things (in addition to the object itself):</p>
<ol>
<li>Something to determine <strong>what</strong> the animation does. This is what <code>AnimationClip</code>s are for.</li>
<li>Something to determine <strong>when</strong> the animation needs to be played. This is where Mecanim makes its mistake.</li>
</ol>
<p><strong>Mecanim</strong> uses an <code>AnimatorController</code> to determine <em><strong>when</strong> the animation is allowed</em> based on its states, transitions, and parameters. But that on its own won't actually do anything useful, it still relies on scripts to determine <em><strong>when</strong> the animation needs to be played</em>. This single requirement has been split into two parts which are very heavily dependant on each other, yet they are developed separately and have no way to specify or validate their dependencies upfront:</p>
<p>When a script sets a parameter, it becomes dependant on the <code>AnimatorController</code> having a parameter with that name (and type), however:</p>
<ul>
<li>When you look at the parameter in the <code>AnimatorController</code>, it gives no indication of which scripts intend to use it, if any. It doesn't even let you enter a description of what it is used for (not that it would help much because scripts wouldn't be able to see the description anyway).</li>
<li>Likewise, when you look at the script, it doesn't give a clear indication of which parameters it intends to use either. You need to read the whole script to find out its requirements.</li>
<li>You can't easily check if the parameter exists when you add your script to the object, or even on startup. The only indication you get that it doesn't exist is when you run the game and try to actually set the parameter. This means that instead of getting a clear indication immediately when something has an issue, you have to test everything extensively. To be clear: extensive testing is good, but it should be your last line of defence against bugs, not your only line of defence.</li>
</ul>
<p>So you have these two separate things - scripts and <code>AnimatorController</code>s - which are inter-dependant, yet you have no proper way of visualising, validating, or enforcing those dependencies.</p>
<p><strong>Animancer</strong> avoids these problems by not splitting up the requirement in the first place. A script determines <em><strong>when</strong> the animation needs to be played</em> and simply tells it to play by passing the <code>AnimationClip</code> to the <code><a href="/animancer/api/Animancer/AnimancerComponent">AnimancerComponent</a></code> without the need to depend on anything extra outside of the script. No dependency on pre-defined states, transitions, or parameters. Looking at the script - in the Inspector or in code - can clearly show you which <code>AnimationClip</code>s it wants and you can use code comments and <a href="https://docs.unity3d.com/ScriptReference/TooltipAttribute.html"><code>[Tooltip]</code></a> attributes to give more information.</p>
<h1 id="responsibilities">Responsibilities</h1>
<p>Programmers have a concept known as the "<a href="https://en.wikipedia.org/wiki/Single_responsibility_principle">Single Responsibility Principle</a>" which states that every class or function should have responsibility over a single part of the functionality of the overall application. This is extremely helpful for developing complex systems in a way that is easy to maintain as the application grows, yet Animator Controllers do not support that concept. Instead, these <a href="https://en.wikipedia.org/wiki/God_object">God Objects</a> are responsible for all the animations a character can perform, regardless of which systems actually use those animations.</p>
<p>Animancer gives you the freedom to define individual aspects of a character wherever they make the most sense, which often means creating your own logical groupings and wrappers for them so that multiple characters can share the same structure.</p>
<p>These groupings can be defined using a different approach depending on the circumstances:</p>
<ul>
<li><code>MonoBehaviour</code>s are attached to a specific <code>GameObject</code> in a scene or a prefab. This is useful if each group will generally be associated with one specific prefab or scene object so that you don't need a separate asset for each of them.</li>
<li><code>ScriptableObject</code>s are generally saved as isolated assets inside the project. This is useful for sharing animation groups among multiple prefabs and scene objects.
<ul>
<li>The <code><a href="/animancer/api/Animancer/DirectionalAnimationSet">DirectionalAnimationSet</a></code>s used in the <a href="../../../examples/directional-sprites">Directional Sprites</a> examples are an example of such a grouping.</li>
</ul>
</li>
</ul>
<p>Some examples:</p>
<ul>
<li>Instead of each individual <code>Attack</code> and <code>Skill</code> script needing to acquire its own references to the appropriate animations for your current weapon, the <code>Weapon</code> itself could hold those animations. An array of attacks for a combo, alternatives for heavy attacks, a backstab, a custom idle or walk to hold the weapon correctly, and so on. Or rather than simply referencing an array of <code>AnimationClip</code>s for the attacks, the weapon could have an array of <code>AttackData</code> which contains the clip, damage value, damage type, force multiplier, etc. If you do use an <code>AttackData</code> class to wrap other statistics with the animations, a <code>MonoBehaviour</code> based approach would allow each weapon to have different stats, even if they have the same set of animations as another.</li>
<li>Instead of scattering your animation references among each individual locomotion script (walk, climb, swim, etc.) you could group them together into a <code>LocomotionData</code> class which allows you to define movement speeds and other parameters alongside the animations while remaining entirely separate from their attacks and other actions. If you find it likely that you will want to reuse a particular set of animations many times with different stats, a <code>ScriptableObject</code> based approach could allow you to define <code>LocomotionAnimations</code> separately from <code>LocomotionStats</code>.</li>
</ul>
<p>Using <a href="../../manual/animator-controllers">Controller States</a> can also be an effective way of grouping certain animations together because they allow you to use multiple smaller Animator Controllers instead of a single large one.</p>
<h1 id="runtime-control">Runtime Control</h1>
<p>Animator Controllers need to be set up in the Unity Editor, then their structure is mostly fixed in place and either cannot be changed at runtime or requires some additional setup to make changes possible:</p>
<ul>
<li>You can't manually control animations in the Inspector.</li>
<li>You can't add new states. You can only use Animator Override Controllers to replace existing animations, meaning you often need to create dummy <code>AnimationClip</code>s and states with the sole purpose of being replaced.</li>
<li>You can't add, remove, or rename parameters.</li>
<li>You can't change transitions.</li>
<li>You can't control <a href="../speed-and-time#speed">animation speeds</a> unless you link them to a parameter.</li>
<li>You can't control <a href="../speed-and-time#time">animation time</a>, only normalized time.</li>
<li>You can't directly control animation weights.</li>
<li>You can't fade layer weights without updating them yourself over time.</li>
<li>You can't move animations to a different layer.</li>
<li>You can't change layer masks.</li>
<li>You can't enable or disable Inverse Kinematics (for example, to improve performance).</li>
<li>You can't access any information about animations that aren't currently playing.</li>
<li>You can't access state names for debugging. You have to use hash codes.</li>
</ul>
<p>All of those things can easily be done with Animancer.</p>

	</section>
                
            </div>           
            
            <!-- Footer -->
            <footer class="main-footer">
            </footer>
            
        </div>
        <div class="wrapper bottom-wrapper">
            <footer class="bottom-footer">
                Generated by <a href="https://wyam.io">Wyam</a>
            </footer>
        </div>
        <a href="javascript:" id="return-to-top"><i class="fa fa-chevron-up"></i></a>
        
        <script>           
            // Close the sidebar if we select an anchor link
            $(".main-sidebar a[href^='#']:not('.expand')").click(function(){
                $(document.body).removeClass('sidebar-open');
            });
            
            $(document).ready(function() {
                mermaid.initialize(
                {
                    flowchart:
                    {
                        useMaxWidth: false
                    },
					startOnLoad: false,
					cloneCssStyles: false
                });     
                mermaid.init(undefined, ".mermaid");

                // Remove the max-width setting that Mermaid sets
                var mermaidSvg = $('.mermaid svg');
                mermaidSvg.addClass('img-responsive');
                mermaidSvg.css('max-width', '');

                // Make it scrollable
				var target = document.querySelector(".mermaid svg");
				if(target !== null)
				{
					var panZoom = window.panZoom = svgPanZoom(target, {
						zoomEnabled: true,
						controlIconsEnabled: true,
						fit: true,
						center: true,
                        maxZoom: 20,
                        zoomScaleSensitivity: 0.6
					});			                          

                    // Do the reset once right away to fit the diagram
                    panZoom.resize();
                    panZoom.fit();
                    panZoom.center();
                    
                    $(window).resize(function(){
                        panZoom.resize();
                        panZoom.fit();
                        panZoom.center();
                    });
				}
                
                $('pre code').each(function(i, block) {
                    hljs.highlightBlock(block);
                });  
            });

            hljs.initHighlightingOnLoad();

            // Back to top
            $(window).scroll(function() {
                if ($(this).scrollTop() >= 200) {        // If page is scrolled more than 50px
                    $('#return-to-top').fadeIn(1000);    // Fade in the arrow
                } else {
                    $('#return-to-top').fadeOut(1000);   // Else fade out the arrow
                }
            });
            $('#return-to-top').click(function() {      // When arrow is clicked
                $('body,html').animate({
                    scrollTop : 0                       // Scroll to top of body
                }, 500);
            });
        </script>
    
</body></html>