<!DOCTYPE html><html><head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=Edge">
        <meta name="description">
        <meta name="keywords" content="static content generator,static site generator,static site,HTML,web development,.NET,C#,Razor,Markdown,YAML">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="shortcut icon" href="/animancer/assets/img/favicon.ico" type="image/x-icon">
        <link rel="icon" href="/animancer/assets/img/favicon.ico" type="image/x-icon">
        <title>Animancer - Animancer v5.0</title>
        <link href="/animancer/assets/css/highlight.css" rel="stylesheet">
        <link href="/animancer/assets/css/bootstrap/bootstrap.css" rel="stylesheet">
        <link href="/animancer/assets/css/adminlte/AdminLTE.css" rel="stylesheet">
        <link href="/animancer/assets/css/theme/theme.css" rel="stylesheet">
        <link href="//fonts.googleapis.com/css?family=Roboto+Mono:400,700|Roboto:400,400i,700,700i" rel="stylesheet">
        <link href="/animancer/assets/css/font-awesome.min.css" rel="stylesheet" type="text/css">
        <link href="/animancer/assets/css/override.css" rel="stylesheet">
        <script src="/animancer/assets/js/jquery-2.2.3.min.js"></script>
        <script src="/animancer/assets/js/bootstrap.min.js"></script>        
        <script src="/animancer/assets/js/app.min.js"></script>         
        <script src="/animancer/assets/js/highlight.pack.js"></script>   
        <script src="/animancer/assets/js/jquery.slimscroll.min.js"></script>
        <script src="/animancer/assets/js/jquery.sticky-kit.min.js"></script>
        <script src="/animancer/assets/js/mermaid.min.js"></script>
        <script src="/animancer/assets/js/svg-pan-zoom.min.js"></script>
        <!--[if lt IE 9]>
        <script src="/animancer/assets/js/html5shiv.min.js"></script>
        <script src="/animancer/assets/js/respond.min.js"></script>
        <![endif]-->  

        
    </head>
    <body class="hold-transition wyam layout-boxed  ">    
        <div class="top-banner"></div>
        <div class="wrapper with-container">
            <!-- Header -->
            <header class="main-header">   
                     
                <a href="/animancer/" class="logo">
                            <span>Animancer</span>
                </a>   
                         
                <nav class="navbar navbar-static-top" role="navigation">
                    <!-- Sidebar toggle button-->
                        <a href="#" class="sidebar-toggle visible-xs-block" data-toggle="offcanvas" role="button">
                            <span class="sr-only">Toggle side menu</span>
                            <i class="fa fa-chevron-circle-right"></i>
                        </a>
                                        
                    <div class="navbar-header">
                        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse">
                            <span class="sr-only">Toggle side menu</span>
                            <i class="fa fa-chevron-circle-down"></i>
                        </button>
                    </div>
            
                    <!-- Collect the nav links, forms, and other content for toggling -->
                    <div class="collapse navbar-collapse pull-left" id="navbar-collapse">
                        <ul class="nav navbar-nav">                            
                                    <li><a href="/animancer/docs/download"><img src="/animancer/images/download.png" height="20" style="position:relative; left:-7px; top:-1px;"> Download</a></li>
        <li class="active"><a href="/animancer/docs"><img src="/animancer/images/docs.png" height="20" style="position:relative; left:-5px; top:-1px;"> Docs</a></li>
        <li><a href="/animancer/docs/help"><img src="/animancer/images/help.png" height="20" style="position:relative; left:-4px; top:-1px;"> Help</a></li>
        <li><a href="/animancer/api/Animancer/AnimancerComponent"><img src="/animancer/images/api.png" height="20" style="position:relative; left:-3px; top:-1px;"> API v5.0</a></li>
        <li><a href="https://kybernetik.com.au/kailas-dierk/unity-assets"><img src="/animancer/images/kybernetik.png" height="20" style="position:relative; left:-2px; top:-1px;"> Other Assets</a></li>
 
                        </ul>       
                    </div>
                    <!-- /.navbar-collapse -->
                
                    <!-- Navbar Right Menu -->
                </nav>
            </header>
            
            <!-- Left side column. contains the logo and sidebar -->
            <aside class="main-sidebar ">
                <section class="infobar" data-spy="affix" data-offset-top="60" data-offset-bottom="200"> 
                    	
    <div id="infobar-headings"><h6>On This Page</h6><p><a href="#major-features">Major Features</a></p>
<p><a href="#minor-features">Minor Features</a></p>
<p><a href="#changes">Changes</a></p>
<p><a href="#improvements">Improvements</a></p>
<p><a href="#fixes">Fixes</a></p>
<hr class="infobar-hidden">
</div>

                </section>
                <section class="sidebar">    
                                     
                    

                    <ul class="sidebar-menu">
                        

                <li><a href="/animancer/docs/download">Download</a></li>
                <li class="treeview">
                    <a href="/animancer/docs/introduction">Introduction</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/introduction/features">Features</a></li>
                <li class="treeview">
                    <a href="/animancer/docs/introduction/mecanim-vs-animancer">Mecanim vs. Animancer</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/introduction/mecanim-vs-animancer/why">Why Replace Mecanim?</a></li>
                <li><a href="/animancer/docs/introduction/mecanim-vs-animancer/playing">Playing</a></li>
                <li><a href="/animancer/docs/introduction/mecanim-vs-animancer/waiting">Waiting</a></li>
                <li><a href="/animancer/docs/introduction/mecanim-vs-animancer/speed-and-time">Speed and Time</a></li>
                <li><a href="/animancer/docs/introduction/mecanim-vs-animancer/weapon-animations">Weapon Animations</a></li>
                <li><a href="/animancer/docs/introduction/mecanim-vs-animancer/performance">Performance</a></li>

                    </ul>
                </li>
                <li><a href="/animancer/docs/introduction/glossary">Glossary</a></li>
                <li class="treeview">
                    <a href="/animancer/docs/introduction/cs">C# in Unity</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/introduction/cs/overview">Scripting Overview</a></li>
                <li><a href="/animancer/docs/introduction/cs/organisation">Organisation</a></li>
                <li><a href="/animancer/docs/introduction/cs/variables">Variables</a></li>
                <li><a href="/animancer/docs/introduction/cs/methods">Methods</a></li>
                <li><a href="/animancer/docs/introduction/cs/inheritance">Inheritance</a></li>
                <li><a href="/animancer/docs/introduction/cs/vectors">Vectors</a></li>
                <li><a href="/animancer/docs/introduction/cs/other">Other Topics</a></li>

                    </ul>
                </li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/examples">Examples</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li class="treeview">
                    <a href="/animancer/docs/examples/basics">01 Basics</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/basics/scene-setup">Basic Scene Setup</a></li>
                <li><a href="/animancer/docs/examples/basics/quick-play">01 Quick Play</a></li>
                <li><a href="/animancer/docs/examples/basics/playing-and-fading">02 Playing and Fading</a></li>
                <li><a href="/animancer/docs/examples/basics/sequence-coroutine">03 Sequence Coroutine</a></li>
                <li><a href="/animancer/docs/examples/basics/named-animations">04 Named Animations</a></li>
                <li><a href="/animancer/docs/examples/basics/hybrid">05 Hybrid Basics</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/examples/fine-control">02 Fine Control</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/fine-control/spider-bot">01 Spider Bot</a></li>
                <li><a href="/animancer/docs/examples/fine-control/doors">02 Doors</a></li>
                <li><a href="/animancer/docs/examples/fine-control/solo-animation">03 Solo Animation</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/examples/locomotion">03 Locomotion</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/locomotion/walk-and-run">01 Walk and Run</a></li>
                <li><a href="/animancer/docs/examples/locomotion/root-motion">02 Root Motion</a></li>
                <li><a href="/animancer/docs/examples/locomotion/linear-blending">03 Linear Blending</a></li>
                <li><a href="/animancer/docs/examples/locomotion/directional-blending">04 Directional Blending</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/examples/directional-sprites">04 Directional Sprites</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/directional-sprites/basic-movement">01 Basic Movement</a></li>
                <li><a href="/animancer/docs/examples/directional-sprites/character-controller">02 Character Controller</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/examples/events">05 Events</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/events/footsteps">01 Footstep Events</a></li>
                <li><a href="/animancer/docs/examples/events/golf">02 Golf Events</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/examples/fsm">06 State Machines</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/fsm/creatures">01 Creatures</a></li>
                <li><a href="/animancer/docs/examples/fsm/interrupts">02 Interrupt Management</a></li>
                <li><a href="/animancer/docs/examples/fsm/brains">03 Brains</a></li>
                <li><a href="/animancer/docs/examples/fsm/more-brains">04 More Brains</a></li>
                <li><a href="/animancer/docs/examples/fsm/weapons">05 Weapons</a></li>
                <li><a href="/animancer/docs/examples/fsm/platformer">06 Platformer</a></li>

                    </ul>
                </li>
                <li><a href="/animancer/docs/examples/layers">07 Layers</a></li>
                <li class="treeview">
                    <a href="/animancer/docs/examples/ik">08 Inverse Kinematics</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/ik/puppet">01 Puppet</a></li>
                <li><a href="/animancer/docs/examples/ik/uneven-ground">02 Uneven Ground</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/examples/animator-controllers">09 Animator Controllers</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/animator-controllers/hybrid">01 Hybrid Mini Game</a></li>
                <li class="treeview">
                    <a href="/animancer/docs/examples/animator-controllers/3d-game-kit">02 3D Game Kit</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/animator-controllers/3d-game-kit/problems">Problems with the Mecanim Character</a></li>
                <li><a href="/animancer/docs/examples/animator-controllers/3d-game-kit/respawn">Respawn</a></li>
                <li><a href="/animancer/docs/examples/animator-controllers/3d-game-kit/idle">Idle</a></li>
                <li class="treeview">
                    <a href="/animancer/docs/examples/animator-controllers/3d-game-kit/locomotion">Locomotion</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/animator-controllers/3d-game-kit/locomotion/movement">Movement</a></li>
                <li><a href="/animancer/docs/examples/animator-controllers/3d-game-kit/locomotion/turning">Turning</a></li>

                    </ul>
                </li>
                <li><a href="/animancer/docs/examples/animator-controllers/3d-game-kit/airborne">Airborne</a></li>
                <li><a href="/animancer/docs/examples/animator-controllers/3d-game-kit/landing">Landing</a></li>
                <li><a href="/animancer/docs/examples/animator-controllers/3d-game-kit/attack">Attack</a></li>
                <li><a href="/animancer/docs/examples/animator-controllers/3d-game-kit/flinch">Flinch</a></li>
                <li><a href="/animancer/docs/examples/animator-controllers/3d-game-kit/die">Die</a></li>

                    </ul>
                </li>

                    </ul>
                </li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/manual">User Manual</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li class="treeview">
                    <a href="/animancer/docs/manual/getting">Getting Animations</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/manual/getting/mixamo">Mixamo</a></li>
                <li><a href="/animancer/docs/manual/getting/importing">Importing</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/manual/playing">Playing Animations</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/manual/playing/states">States</a></li>
                <li><a href="/animancer/docs/manual/playing/inspector">Inspector</a></li>
                <li><a href="/animancer/docs/manual/playing/component-types">Component Types</a></li>
                <li><a href="/animancer/docs/manual/playing/directional-sets">Directional Animation Sets</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/manual/transitions">Transitions</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/manual/transitions/types">Transition Types</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/manual/blending">Blending</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/manual/blending/fading">Fading</a></li>
                <li><a href="/animancer/docs/manual/blending/layers">Layers</a></li>
                <li><a href="/animancer/docs/manual/blending/mixers">Mixers</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/manual/events">Events</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/manual/events/animation">Animation Events</a></li>
                <li><a href="/animancer/docs/manual/events/animancer">Animancer Events</a></li>
                <li><a href="/animancer/docs/manual/events/end">End Events</a></li>

                    </ul>
                </li>
                <li><a href="/animancer/docs/manual/fsm">Finite State Machines</a></li>
                <li><a href="/animancer/docs/manual/animator-controllers">Animator Controllers</a></li>
                <li><a href="/animancer/docs/manual/ik">Inverse Kinematics</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/bugs">Unity Bugs</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/bugs/inconsistent-timing">Inconsistent Timing</a></li>
                <li><a href="/animancer/docs/bugs/paused-skinned-mesh-update">Paused Skinned Mesh Update</a></li>
                <li><a href="/animancer/docs/bugs/update-modes">Update Modes</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/source">Source Code</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/source/dlls">DLLs</a></li>
                <li><a href="/animancer/docs/source/creating-custom-states">Creating Custom States</a></li>
                <li><a href="/animancer/docs/source/graph-structure">Graph Structure</a></li>
                <li><a href="/animancer/docs/source/asset-sources">Asset Sources</a></li>
                <li><a href="/animancer/docs/source/coding-standard">Coding Standard</a></li>
                <li><a href="/animancer/docs/source/default-script-template">Default Script Template</a></li>

                    </ul>
                </li>
                <li class="treeview active">
                    <a href="/animancer/docs/changes">Change Log</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li class="treeview active selected">
                    <a href="/animancer/docs/changes/animancer-v5-0">Animancer v5.0</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/changes/animancer-v5-0/test">Test Releases</a></li>

                    </ul>
                </li>
                <li><a href="/animancer/docs/changes/animancer-v4-4">Animancer v4.4</a></li>
                <li><a href="/animancer/docs/changes/animancer-v4-3">Animancer v4.3</a></li>
                <li><a href="/animancer/docs/changes/animancer-v4-2">Animancer v4.2</a></li>
                <li><a href="/animancer/docs/changes/animancer-v4-1">Animancer v4.1</a></li>
                <li class="treeview">
                    <a href="/animancer/docs/changes/animancer-v4-0">Animancer v4.0</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/changes/animancer-v4-0/test">Test Releases</a></li>

                    </ul>
                </li>
                <li><a href="/animancer/docs/changes/animancer-v3-1">Animancer v3.1</a></li>
                <li><a href="/animancer/docs/changes/animancer-v3-0">Animancer v3.0</a></li>
                <li><a href="/animancer/docs/changes/animancer-v2-0">Animancer v2.0</a></li>
                <li><a href="/animancer/docs/changes/animancer-v1-3">Animancer v1.3</a></li>
                <li><a href="/animancer/docs/changes/animancer-v1-2">Animancer v1.2</a></li>
                <li><a href="/animancer/docs/changes/animancer-v1-1">Animancer v1.1</a></li>
                <li><a href="/animancer/docs/changes/animancer-v1-0">Animancer v1.0</a></li>

                    </ul>
                </li>
                <li><a href="/animancer/docs/help">Help and FAQ</a></li>

                    </ul>
                            
                </section>                
            </aside>
            
            <!-- Content Wrapper. Contains page content -->
            <div class="content-wrapper">
                



		<section class="content-header">
			<h1>Animancer v5.0</h1>
		</section>
	<section class="content">
		<blockquote class="blockquote">
<p>Planned Release 2020-??-?? (this page was last updated on 2020-06-16)</p>
</blockquote>
<ul>
<li><a href="test">Animancer v5.0</a> is currently in development and has reached the Beta phase (feature complete, but the examples and documentation are not ready yet).</li>
<li><strong>Upgrading from earlier versions will be free as always</strong>.</li>
<li>Please create a <a href="https://github.com/KybernetikGames/animancer/issues">Github Issue</a> if you have any questions, bug reports, feature suggestions, etc.</li>
</ul>
<p><a href="../../download">When upgrading to a newer version of Animancer, you must <strong>delete any previous version</strong> from your project first</a>.</p>
<h1 id="major-features">Major Features</h1>
<ul>
<li>Increased <strong>Minimum Unity Version</strong> to <strong>2018.4</strong> and modified all scripts to use features of the .NET 4.x scripting runtime where appropriate (expression bodied methods, ref returns, out variables, nameof, string interpolation).</li>
<li><strong>Animancer can now be blended with an Animator Controller</strong> assigned to the regular <code>Controller</code> field on the <code>Animator</code> component, though this is subject to several limitations:
<ul>
<li>Generic Rigs only. Humanoids will play the Animator Controller when Animancer is at 0 weight, but anything higher than that will only play the Animancer graph without any blending (Bug Report 1251106).</li>
<li>Requires Unity 2019.1+.</li>
<li>You control the blending by setting the <code>Weight</code> of Animancer's layers (or using <code>StartFade</code> to transition smoothly), but Unity's <code>AnimationLayerMixerPlayable</code> ignores the weight if there is only one layer (Bug Report 1159548). So if you aren't already using multiple layers you just need to call <code>animancer.Layers.RespectSingleLayerWeight();</code> for it to work.</li>
<li>Features of the <code>Animator</code> like IK and Target Matching will only apply to the Animator Controller but not to the animations you play in Animancer.</li>
<li>Adding an <code><a href="/animancer/api/Animancer/AnimancerComponent">AnimancerComponent</a></code> will still clear the <code>Animator</code>'s <code>Controller</code> field. Just re-assign it and ignore Animancer's warning about it having no effect. I'll need to reword that warning before release, but I'm not sure if I want to stop auto-clearing the <code>Controller</code> because Animancer is still intended to be used without one by default.</li>
</ul>
</li>
<li>Expanded support for <strong>Animation Jobs</strong>:
<ul>
<li>Added several (currently barebones) examples in the <em>Examples/10 Animation Jobs</em> folder:
<ul>
<li>Damping: applies simple physics based drag to a character's arm (because I don't have a character with a tail). Uses the <a href="https://github.com/Unity-Technologies/animation-jobs-samples/blob/master/Assets/animation-jobs-samples/Runtime/AnimationJobs/DampingJob.cs"><code>DampingJob</code></a> from the <a href="https://github.com/Unity-Technologies/animation-jobs-samples">Animation Jobs Samples</a>.</li>
<li>Lean: lets you dynamically lean the character's spine to the left or right with an Inspector slider. You can also change the rotation axis to have the character bend forward/back or turn left/right instead. <a href="https://github.com/KybernetikGames/animancer/issues/48#issuecomment-632336377">Based on an implementation by ted-hou on GitHub</a>.</li>
<li>Two Bone IK: a basic IK system that works on Generic rigs (unlike Unity's built in IK). Uses the <a href="https://github.com/Unity-Technologies/animation-jobs-samples/blob/master/Assets/animation-jobs-samples/Runtime/AnimationJobs/TwoBoneIKJob.cs"><code>TwoBoneIKJob</code></a> from the <a href="https://github.com/Unity-Technologies/animation-jobs-samples">Animation Jobs Samples</a>.</li>
<li>If you have any suggestions for other similar examples, please use any of the contact options on the <a href="../../help">Help</a> page.</li>
</ul>
</li>
<li>Added <code>AnimancerPlayable.InsertOutputJob</code>, <code>AnimancerPlayable.InsertOutputPlayable</code>, and <code>AnimancerUtilities.RemovePlayable</code> to allow Animation Jobs and other playables to be easily added to the graph output.</li>
<li>Added <code><a href="/animancer/api/Animancer/AnimancerPlayable/A034977B">AnimancerPlayable.Disposables</a></code> list for easily registering objects that need to be cleaned up with the graph (mostly <code>NativeArray</code>s).</li>
<li>Added <code>AnimancerUtilities.CreateNativeReference</code> to create single element arrays for easy data interactions in and out of jobs.</li>
<li>Added several <code>MixerState.CreatePlayable&lt;T&gt;</code> and <code>Get</code>/<code>SetJobData</code> methods to use Animation Jobs in <a href="../../manual/blending/mixers">Mixer States</a> instead of the default <code>AnimationMixerPlayable</code>.</li>
</ul>
</li>
<li>Added <strong>Custom Fade</strong> system for easily fading weights using an <code>AnimationCurve</code>, custom delegate, or <code><a href="/animancer/api/Animancer/Function">Interpolation.Function</a></code> enum to <a href="https://forum.unity.com/threads/756254">tweak your transitions as described here</a>.
<ul>
<li>I haven't made any examples for it yet, but it's pretty simple to use. Just call any of the static <code>CustomFade.Apply</code> methods right after calling <code>animancer.Play</code> normally. Playing anything else after that will automatically cancel the custom fade if it's still in progress.</li>
<li>The source code for this system is located in <em>Assets/Plugins/Animancer/Utilities/Custom Fade</em>. Even though it is a Pro-Only feature, it can serve as a supplementary example of how you can extend Animancer without modifying any of its internals and the <code><a href="/animancer/api/Animancer/Interpolation">Interpolation</a></code> class originated as open source anyway.</li>
<li>Added <code>AnimationCurve</code> preset libraries for common easing functions which can be selected from the dropdown menu in the Presets area when editing an <code>AnimationCurve</code> field. Note that these curves were configured by hand with the minimum number of keyframes for efficiency. They do not cover the exact same set of functions as the <code><a href="/animancer/api/Animancer/Interpolation">Interpolation</a></code> class and any that are the same will have slight differences.</li>
</ul>
</li>
<li>Improved <a href="../../manual/transitions#previews">Transition Previews</a>:
<ul>
<li>You can now pan the camera using Left Click while Right Click still rotates it as before.</li>
<li>Added settings to customise the movement and rotation sensitivity.</li>
<li>Added a field for selecting a model with a dropdown that remembers previously used assets.</li>
<li>It automatically picks a recently used model based on the best match of properties animated by the transition and properties that exist in each model.</li>
<li>Added default human model (uses Animancer's <em>DefaultHumanoid</em> if it exists, otherwise it uses Unity's <em>DefaultAvatar</em> which is just the same model with a different texture).</li>
<li>Fixed the grid to properly draw behind <code>Sprite</code>s.</li>
<li>Added the ability to assign a custom floor material or disable the floor entirely because Scriptable Render Pipelines often break the default shader. <a href="https://github.com/KybernetikGames/animancer/issues/53">#53</a></li>
<li>Fixed the internal details display to use the correct margins in both the Inspector and <code>TransitionPreviewWindow</code>.</li>
<li><code>AnimancerState.RecreatePlayable</code> is now overridden by <code><a href="/animancer/api/Animancer/ControllerState">ControllerState</a></code> and <code><a href="/animancer/api/Animancer/MixerState">MixerState</a></code> to retain their parameter values.</li>
<li>Fixed the preview time indicator in the <code><a href="/animancer/api/Animancer.Editor/TimeRuler">TimeRuler</a></code> to work properly on transitions with a variable <code><a href="/animancer/api/Animancer/AnimancerState/E9649ABA">AnimancerState.Length</a></code> (<code><a href="/animancer/api/Animancer/ControllerState">ControllerState</a></code> and <code><a href="/animancer/api/Animancer/MixerState">MixerState</a></code>).</li>
<li><code><a href="/animancer/api/Animancer.Editor/AnimationGatherer">AnimationGatherer</a></code> now stores exceptions in a list for the <code>TransitionPreviewWindow</code> to show instead of logging them.</li>
</ul>
</li>
</ul>
<h1 id="minor-features">Minor Features</h1>
<ul>
<li>Added <em>DefaultHumanoid</em> model (Unity's <em>DefaultAvatar</em> with a different texture) to replace the <em>LowPolyMan</em>.
<ul>
<li>Fixed the finger pose of all <em>Humanoid</em> animations (the <em>LowPolyMan</em> didn't have individual fingers).</li>
</ul>
</li>
<li>Improved the <em>SpiderBot</em> model:
<ul>
<li>Cleaned up the naming conventions for bones, meshes, etc.</li>
<li>Added foot bones so it can be used with Two Bone IK (one of the Animation Jobs examples).</li>
</ul>
</li>
<li>Added <code><a href="/animancer/api/Animancer/LinearMixerState/96AB80DE">LinearMixerState.ExtrapolateSpeed</a></code> to allow parameter values above the highest threshold to increase the <code>Speed</code> of the mixer proportionally. This feature is enabled by default and you can try it out in the <a href="../../examples/locomotion/linear-blending">Linear Blending</a> example by simply increasing the maximum value of the UI Slider.</li>
<li>Added <code>Start Time</code> field to <code><a href="/animancer/api/Animancer/Transition">ControllerState.Transition</a></code>.</li>
<li>Added <code>AnimancerEvent.Sequence.AddCallback</code>.</li>
<li>Added <code><a href="/animancer/api/Animancer/AnimancerPlayable/72BB059D">AnimancerPlayable.Graph</a></code> to expose the <code>PlayableGraph</code>. <a href="https://github.com/KybernetikGames/animancer/issues/48">#48</a>
<ul>
<li>Removed <code>AnimancerNode.Graph</code> since custom states can now directly access the <code>Root.Graph</code>.</li>
</ul>
</li>
<li>Reworked the <code>AnimatedProperty</code> system:
<ul>
<li>Instead of a <code>Type</code> enum parameter, it now has a generic base class with several subclasses: <code><a href="/animancer/api/Animancer/AnimatedFloat">AnimatedFloat</a></code>, <code><a href="/animancer/api/Animancer/AnimatedBool">AnimatedBool</a></code>, and <code><a href="/animancer/api/Animancer/AnimatedInt">AnimatedInt</a></code>.</li>
<li>Improved the performance of accessing the value.</li>
<li>It is now supports accessing multiple properties in a single <code>AnimatedProperty</code>, which is more efficient than making multiple separate <code>AnimatedProperty</code> objects.</li>
<li>Added <code>AnimancerJob</code> base class to allow custom Animation Jobs to be easily inserted into the graph. It intercepts the playable output instead of creating its own. This is more efficient and means that it and the Uneven Ground example no longer requires Unity 2019.1+.</li>
<li><code>AnimatedProperty</code> now uses <code><a href="/animancer/api/Animancer/AnimancerPlayable/A034977B">AnimancerPlayable.Disposables</a></code> to clean up its <code>NativeArray</code>s so you no longer need to manually destroy them.</li>
</ul>
</li>
<li>Added various state creation methods:
<ul>
<li><code>AnimancerLayer.CreateState&lt;T&gt;</code> for creating any state type as a child of that layer (with the same in <code><a href="/animancer/api/Animancer/StateDictionary">AnimancerPlayable.StateDictionary</a></code> for the default layer).</li>
<li><code>MixerState.CreateChild(index, transition)</code> to avoid the need to call <code>CreateState</code> and <code>Apply</code> when manually constructing a mixer.</li>
<li>Renamed <code>MixerState.CreateState</code> to <code>CreateChild</code>.</li>
</ul>
</li>
<li>Added <code><a href="/animancer/api/Animancer/WarningType">WarningType</a></code> enum with various extension methods in <code><a href="/animancer/api/Animancer/Validate">Validate</a></code> to standardise the way optional warning messages can be disabled.
<ul>
<li>These warnings can be disabled individually using <code>WarningType.X.Disable();</code>.</li>
<li>Moved the Pro-Only, duplicate event, and unsupported event warnings to this system.</li>
<li>Added a warning when attempting to enable IK on a <code><a href="/animancer/api/Animancer/ControllerState">ControllerState</a></code> or <code><a href="/animancer/api/Animancer/PlayableAssetState">PlayableAssetState</a></code>.</li>
<li>Added a warning when attempting to use Animancer Events on a <code><a href="/animancer/api/Animancer/ControllerState">ControllerState</a></code>s explaining that it will probably not work as expected. <a href="https://github.com/KybernetikGames/animancer/issues/37">#37</a></li>
<li>Added a warning for when an <code><a href="/animancer/api/Animancer/AnimancerPlayable">AnimancerPlayable</a></code> is created for an inactive <code>GameObject</code> to explain that it needs to be manually destroyed if that object is never activated because Unity won't call <code>OnDestroy</code> otherwise.</li>
<li>Added a warning for when adding the same callback to an <code><a href="/animancer/api/Animancer/Sequence">AnimancerEvent.Sequence</a></code> multiple times, even if the delegate's <code>Target</code> object is different. This allows it to detect situations where multiple objects are each adding their own version of an event to a shared sequence.</li>
<li>Added a warning for when the <code>Animator.speed</code> is changed to explain that <code><a href="/animancer/api/Animancer/AnimancerPlayable/5840669B">AnimancerPlayable.Speed</a></code> needs to be used instead.</li>
</ul>
</li>
<li>Added <code><a href="/animancer/api/Animancer/ObjectPool">ObjectPool</a></code> methods for <code>StringBuilder</code>s and replaced all standard usage with them.</li>
</ul>
<h1 id="changes">Changes</h1>
<ul>
<li>Changed <code>AnimancerLayer.Play</code> to only snap its <code>Weight = 1</code> if it was at 0 rather than if it was not at 1.</li>
<li>Moved the editor version of <em>Animancer.Lite.dll</em> into the <em>Internal/Editor</em> folder since having it visible in the root <em>Animancer</em> folder serves no purpose.</li>
<li>Mixers now initialise with empty arrays of states and thresholds so they don't need to null check them.</li>
<li><code>ManualMixerState.Initialise(count)</code> now creates the <code>Playable</code> if the <code>Root</code> is set and simply changes the number of inputs if it already existed.</li>
<li>Moved various functionality from <code><a href="/animancer/api/Animancer/ManualMixerState">ManualMixerState</a></code> into the base <code><a href="/animancer/api/Animancer/MixerState">MixerState</a></code> so it can be used by custom mixers that don't want to inherit from <code><a href="/animancer/api/Animancer/ManualMixerState">ManualMixerState</a></code>.</li>
<li>The <code><a href="/animancer/api/Animancer/AnimancerComponent">AnimancerComponent</a></code> Inspector now always shows the <code><a href="/animancer/api/Animancer/AnimancerPlayable/FBD2FD77">AnimancerPlayable.IsGraphPlaying</a></code> field (instead of only when it is paused) and also shows its <code>Speed</code> field.</li>
<li>Changed <code>Transition.CreateState</code> to a method because it doesn't make much sense as a property.</li>
<li><code>AnimancerUtilities.AddAnimancerComponent</code> (an <code>Animator</code> extension method) now clears the <code>runtimeAnimatorController</code>.</li>
<li>Removed the standard Animation Event receiver methods from <code><a href="/animancer/api/Animancer/AnimancerComponent">AnimancerComponent</a></code> since they are not very convenient to use anyway.
<ul>
<li>Added <code><a href="/animancer/api/Animancer/EndEventReceiver">EndEventReceiver</a></code> for receiving Animation Events with the Function Name "End" and moved all the related functionality out of <code><a href="/animancer/api/Animancer/AnimancerPlayable">AnimancerPlayable</a></code> and <code><a href="/animancer/api/Animancer/AnimancerLayer">AnimancerLayer</a></code>.</li>
</ul>
</li>
<li>Standardised <code>AnimancerState.ToString</code> instead of having each child class implement its own.</li>
<li>Split <code>AnimancerPlayable.AppendInternalDetails</code> out of <code>AppendDescription</code> so it can be used to display updatables, dirty nodes, and disposables in a single label.</li>
<li><code>AnimationType.Sprite</code> now includes any object with only <code>SpriteRenderer</code>s in its children without any other <code>Renderer</code> types.</li>
<li>Moved <code>GetParameterValue</code> (and <code>Set</code>) to <code><a href="/animancer/api/Animancer/AnimancerUtilities">AnimancerUtilities</a></code>.</li>
<li>Changed <code><a href="/animancer/api/Animancer/AnimancerPlayable/EA98B55C">AnimancerPlayable.FrameID</a></code> from <code>uint</code> to <code>ulong</code> to avoid the need for a cast.</li>
<li><code><a href="/animancer/api/Animancer.Editor/ScriptableObjectEditor">ScriptableObjectEditor</a></code> now displays its message about changes being undone when exiting Play Mode as a warning rather than info and only in Play Mode.</li>
</ul>
<h1 id="improvements">Improvements</h1>
<ul>
<li>Added <code>AnimancerUtilities.CreateStateAndApply</code> extension method for <code><a href="/animancer/api/Animancer/ITransition">ITransition</a></code>.</li>
<li>Added <code>MixerState.DontSynchroniseChildren</code> which can be assigned to the <code>SynchroniseChildren</code> property to easily disable synchronisation for all children without needing to allocate an array of the correct size.</li>
<li>Added <code>context</code> parameter to various log messages so that clicking them in the Console window will highlight the object that caused the message.</li>
<li>Improved the "AnimancerNode.Root is null" exception message to explain that you probably just need to play the state or call <code>state.SetRoot(animancer)</code> before trying to access it.</li>
<li>Added <code>Validate.AssertPlayable</code> to give a more useful error message if a state's <code>Playable</code> doesn't exist.</li>
<li>Middle clicking on live fields to reset them now deselects the active control since having a field selected would not display the modified value.</li>
<li>All <code>Transition.CreateState</code> methods now set the <code>State</code> property.</li>
<li>Added more specific exceptions for if you try to initialise a mixer without any clips or thresholds.</li>
<li>Added <code>ObjectPool.GetCachedResult</code> for easily creating <code>GUIStyle</code>s and other things that need caching.</li>
</ul>
<h1 id="fixes">Fixes</h1>
<ul>
<li>Fixed an exception when resizing transition arrays in the Inspector on a script without a custom Editor. <a href="https://github.com/KybernetikGames/animancer/issues/38">#38</a></li>
<li>Fixed the <code><a href="/animancer/api/Animancer/AnimancerState/840B3EB1">AnimancerState.Time</a></code> property to work properly for Mixers. <a href="https://github.com/KybernetikGames/animancer/issues/51">#51</a></li>
<li>Fixed <code>ControllerState.Transition.NormalizedStartTime</code> to not interfere with resetting to the default states.</li>
<li>Fixed <code>AnimancerNode.ParentEffectiveSpeed</code> to exclude the root because the delta time value already includes it.
<ul>
<li>This fixes cross fading to advance correctly when the root speed is not 1.</li>
<li>Fixed <code><a href="/animancer/api/Animancer/AnimancerNode/AACBC52A">AnimancerNode.EffectiveSpeed</a></code> to not throw exceptions if the <code>Root</code> is not set.</li>
</ul>
</li>
<li>Fixed the <code><a href="/animancer/api/Animancer/MixerState/76784F91">MixerState.SynchroniseChildren</a></code> setter to correctly reset the speed of any children that were previously synced but aren't anymore.</li>
<li>Fixed the <code><a href="/animancer/api/Animancer/AnimancerNode/94B3FD61">AnimancerNode.Weight</a></code> and <code>TargetWeight</code> fields in the Inspector to silently clamp the value to be non-negative instead of letting the underlying properties throw exceptions.</li>
<li>Fixed <code>AnimancerEvent.Sequence.CopyFrom</code> and the copy constructor to properly handle nulls.</li>
<li>Fixed GUI Layout bug in <code>AnimancerPlayable.DoUpdateListGUI</code> if the lists are changed between Layout and Repaint events.</li>
<li>Fixed <code>AnimancerLayer.Play</code> to respect <code>FadeMode.FromStart</code> when the <code>fadeDuration</code> is 0.</li>
<li>Fixed various Mixer methods to recalculate the child weights if necessary.</li>
<li>Fixed <code>StackOverflowException</code> in <code><a href="/animancer/api/Animancer/LinearMixerState/BA35CFB6">LinearMixerState.Initialise(AnimationClip[], float, float)</a></code>.</li>
<li>Fixed formatting of <code>AnimancerEvent.AppendDetails</code>.</li>
<li>Fixed <code>HybridAnimancerComponent.Play</code> and <code>CrossFade</code> to not set the <code><a href="/animancer/api/Animancer/AnimancerState/617EFC91">AnimancerState.NormalizedTime</a></code> to the default value (negative infinity).</li>
<li>Fixed the <code><a href="/animancer/api/Animancer/AnimancerComponent">AnimancerComponent</a></code> Inspector updatables list to not cause the horizontal scrollbar to appear.</li>
<li>Fixed <code><a href="/animancer/api/Animancer.Examples.InverseKinematics/MouseDrag">MouseDrag</a></code> to maintain a fixed distance to the target.</li>
<li>Fixed Animancer Lite to correctly give a Pro-Only warning when using a custom End Event Time.</li>
</ul>

	</section>
                
            </div>           
            
            <!-- Footer -->
            <footer class="main-footer">
            </footer>
            
        </div>
        <div class="wrapper bottom-wrapper">
            <footer class="bottom-footer">
                Generated by <a href="https://wyam.io">Wyam</a>
            </footer>
        </div>
        <a href="javascript:" id="return-to-top"><i class="fa fa-chevron-up"></i></a>
        
        <script>           
            // Close the sidebar if we select an anchor link
            $(".main-sidebar a[href^='#']:not('.expand')").click(function(){
                $(document.body).removeClass('sidebar-open');
            });
            
            $(document).ready(function() {
                mermaid.initialize(
                {
                    flowchart:
                    {
                        useMaxWidth: false
                    },
					startOnLoad: false,
					cloneCssStyles: false
                });     
                mermaid.init(undefined, ".mermaid");

                // Remove the max-width setting that Mermaid sets
                var mermaidSvg = $('.mermaid svg');
                mermaidSvg.addClass('img-responsive');
                mermaidSvg.css('max-width', '');

                // Make it scrollable
				var target = document.querySelector(".mermaid svg");
				if(target !== null)
				{
					var panZoom = window.panZoom = svgPanZoom(target, {
						zoomEnabled: true,
						controlIconsEnabled: true,
						fit: true,
						center: true,
                        maxZoom: 20,
                        zoomScaleSensitivity: 0.6
					});			                          

                    // Do the reset once right away to fit the diagram
                    panZoom.resize();
                    panZoom.fit();
                    panZoom.center();
                    
                    $(window).resize(function(){
                        panZoom.resize();
                        panZoom.fit();
                        panZoom.center();
                    });
				}
                
                $('pre code').each(function(i, block) {
                    hljs.highlightBlock(block);
                });  
            });

            hljs.initHighlightingOnLoad();

            // Back to top
            $(window).scroll(function() {
                if ($(this).scrollTop() >= 200) {        // If page is scrolled more than 50px
                    $('#return-to-top').fadeIn(1000);    // Fade in the arrow
                } else {
                    $('#return-to-top').fadeOut(1000);   // Else fade out the arrow
                }
            });
            $('#return-to-top').click(function() {      // When arrow is clicked
                $('body,html').animate({
                    scrollTop : 0                       // Scroll to top of body
                }, 500);
            });
        </script>
    
</body></html>